<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Button Spam with Notifications</title>
</head>
<body>
    <button id="spamButton">ボタン</button>

    <script>
        let isSpamming = false;

        document.getElementById('spamButton').addEventListener('click', function() {
            if (!isSpamming) {
                isSpamming = true;
                spamClick();
            }
        });

        function spamClick() {
            if (isSpamming) {
                showNotification('ボタンが押されました！'); // 通知を表示
                setTimeout(spamClick, 100); // 100ミリ秒ごとにボタンを押す
            }
        }

        function showNotification(message) {
            if (Notification.permission === 'granted') {
                new Notification(message);
            } else if (Notification.permission !== 'denied') {
                Notification.requestPermission().then(permission => {
                    if (permission === 'granted') {
                        new Notification(message);
                    }
                });
            }
        }

        window.addEventListener('beforeunload', function() {
            isSpamming = false; // サイトが閉じる際に連打を停止
        });
    </script>
</body>
</html>
